{% load static %}
<style>
  .navbar-brand {
    font-weight: 700;
    font-size: 1.6rem;
    letter-spacing: 3px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #0d6efd !important;
    text-transform: uppercase;
  }

  .hello-msg {
    font-size: 16px;
    color: #ffc107;
    font-weight: 600;
    margin-left: 15px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    user-select: none;
    white-space: nowrap;
  }

  .navbar-dark .navbar-nav .nav-link {
    color: rgba(255, 255, 255, 0.9);
    text-transform: capitalize;
  }

  .navbar-dark .navbar-nav .nav-link:hover {
    color: #0d6efd;
  }

  .logout-link {
    color: white;
    font-weight: 500;
    text-decoration: none;
    white-space: nowrap;
  }

  .logout-link:hover {
    color: #dc3545;
  }

  /* Notification badge styling */
  .notification-badge {
    position: relative;
    margin-right: 15px;
  }

  .notification-badge .badge {
    position: absolute;
    top: -5px;
    right: -10px;
    font-size: 0.7rem;
    padding: 3px 6px;
  }

  .logo-wrapper {
    display: flex;
    align-items: center;
    padding: 0 15px;
  }
  
  .logo-img {
    height: 60px;
    width: auto;
    max-height: 60px;
  }
</style>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="{% url 'home' %}">
    <img src="{% static 'images/elite_d.png' %}" alt="Elite Digitizers Logo" class="logo-img">
  </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      {% if request.user.groups.all.0.name == 'admin' %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'home' %}">Dashboard</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'products' %}">Products</a>
      </li>

      {% elif request.user.groups.all.0.name == 'designer' %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'designer-dashboard' %}">Dashboard</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'designer_inbox' %}">Messages</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'view_notifications' %}">
          Notifications
        </a>
      </li>
      {% else %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'account' %}">Settings</a>
      </li>
      {% endif %}
    </ul>
  </div>

  <div class="d-flex align-items-center">
    {% if user.is_authenticated %}
    {% if request.user.groups.all.0.name == 'designer' %}
    <div class="notification-badge me-3">
      <a href="{% url 'view_notifications' %}" class="nav-link p-0">
        <i class="fas fa-bell fa-lg"></i>
        {% if unread_count > 0 %}
        <span class="badge bg-danger">
          {{ unread_count }}
        </span>
        {% endif %}
      </a>
    </div>
    {% endif %}
    <span class="hello-msg">Hello, {{ user.first_name }}!</span>
    <span class="hello-msg"><a class="logout-link" href="{% url 'logout' %}">Logout</a></span>
    {% endif %}
  </div>
</nav>
